<template>
  <div class="over">
    <section class="b-box">
      <div class="center">
        <div class="text">
          <a href="javascript:" class="textA">艾佛瑞钢琴学校</a>
          <div class="first">
            <img src="~@/assets/IMG/sp2.png" alt="">
          </div>
          <p>
            <i class="star"></i>
            <i class="star"></i>
            <i class="star"></i>
            <i class="star"></i>
            <i class="star"></i>
            <span>5.0分</span>
          </p>
          <span>学校地址：
                        <span>广州市珠江新城高德置地冬广场三楼338铺<br></span>
                    </span>
          <span>报名电话：
                        <span>40036564-6216<br></span>
                    </span>
          <span>营业时间：
                        <span>周一至周五&nbsp;09:00-21:00</span>
                    </span>
          <h3>特色服务</h3>
          <div class="bi">
            <img src="~@/assets/IMG/pp.png" alt="">
          </div>
          <a href="tencent://message?uin=1349769188" target="_blank" class="zixun">在线咨询</a>
<!--          <span class="zixun">在线咨询</span>-->
        </div>
        <div id="goods" class="tupian">
          <div>
            <img src="~@/assets/IMG/xx1_big.jpg" id="bigimg">
          </div>
          <div id="goods_img" class="xiao">
            <ul>
              <li> <img src="~@/assets/IMG/xx1.jpg" alt=""></li>
              <li><img src="~@/assets/IMG/2.jpg" alt=""></li>
              <li><img src="~@/assets/IMG/3.jpg" alt=""></li>
            </ul>
          </div>
        </div>
      </div>
    </section>
    <section class="teacher">
      <button id="left"></button>
      <button id="right"></button>
      <div class="center">
        <h2>名师风采</h2>
        <div class="teacher-p">
          <ul class="containner">
            <li>
              <img src="~@/assets/IMG/t1.jpg" alt="">
              <h4>苏晓老师</h4>
              <div class="sp">
                <span class="hang">7年教龄</span>
                <span>|</span>
                <span class="hang">儿童钢琴课</span>
              </div>
              <h6>星海音乐学院音乐教育本科，星空琴行儿童钢琴<br>
                老师，星海音乐学院学生技能大赛null。</h6>
            </li>
            <li>
              <img src="~@/assets/IMG/t2.png" alt="">
              <h4>王老师</h4>
              <div class="sp">
                <span class="hang">5年教龄</span>
                <span>|</span>
                <span class="hang">儿童吉他课</span>
              </div>
              <h6>广师大学音乐学本科，柏斯琴行儿童钢琴教师，<br>
                第6届“长江杯国际钢琴公开赛”银奖</h6>
            </li>
            <li>
              <img src="~@/assets/IMG/t3.png" alt="">
              <h4>杨雪老师</h4>
              <div class="sp">
                <span class="hang">7年教龄</span>
                <span>|</span>
                <span class="hang">高级钢琴课</span>
              </div>
              <h6>“肖邦纪念奖”香港国际钢琴公开赛 优秀钢琴导师<br>
                奖，中央音乐学院钢琴师资认证</h6>
            </li>
            <li>
              <img src="~@/assets/IMG/t4.png" alt="">
              <h4>菲菲老师</h4>
              <div class="sp">
                <span class="hang">7年教龄</span>
                <span>|</span>
                <span class="hang">儿童美术课</span>
              </div>
              <h6>毕业美术院校，毕业后从事于美术教学工作，<br>
                具有深厚的美术手绘功底，擅长彩铅。</h6>
            </li>
            <li>
              <img src="~@/assets/IMG/t5.png" alt="">
              <h4>琪琪老师</h4>
              <div class="sp">
                <span class="hang">7年教龄</span>
                <span>|</span>
                <span class="hang">高级美术课</span>
              </div>
              <h6>多年美术教学经验，美术基本功扎实，<br>
                让美术教学对学生的成长和发展起到更大的作用。</h6>
            </li>
            <li>
              <img src="~@/assets/IMG/t6.png" alt="">
              <h4>大卫老师</h4>
              <div class="sp">
                <span class="hang">5年教龄</span>
                <span>|</span>
                <span class="hang">动漫手绘课</span>
              </div>
              <h6>从事多年漫画工作，拥有4年多手绘培训经验，教授学员超过1000人。<br>
                教学经验丰富,讲课轻松幽默，深受学员喜爱，擅长厚涂插画，赛璐璐风格。</h6>
            </li>
            <li>
              <img src="~@/assets/IMG/t1.jpg" alt="">
              <h4>苏晓老师</h4>
              <div class="sp">
                <span class="hang">7年教龄</span>
                <span>|</span>
                <span class="hang">儿童钢琴课</span>
              </div>
              <h6>星海音乐学院音乐教育本科，星空琴行儿童钢琴<br>
                老师，星海音乐学院学生技能大赛null。</h6>
            </li>
            <li>
              <img src="~@/assets/IMG/t2.png" alt="">
              <h4>王老师</h4>
              <div class="sp">
                <span class="hang">5年教龄</span>
                <span>|</span>
                <span class="hang">儿童吉他课</span>
              </div>
              <h6>广师大学音乐学本科，柏斯琴行儿童钢琴教师，<br>
                第6届“长江杯国际钢琴公开赛”银奖</h6>
            </li>
            <li>
              <img src="~@/assets/IMG/t3.png" alt="">
              <h4>杨雪老师</h4>
              <div class="sp">
                <span class="hang">7年教龄</span>
                <span>|</span>
                <span class="hang">高级钢琴课</span>
              </div>
              <h6>“肖邦纪念奖”香港国际钢琴公开赛 优秀钢琴导师<br>
                奖，中央音乐学院钢琴师资认证</h6>
            </li>

          </ul>
        </div>
      </div>
    </section>
    <section class="main-class">
      <div class="center">
        <div class="b-box">
          <div class="class-left">
            <div class="left-top">
              <h2>主打课程</h2>
              <ul>
                <li>
                  <img src="~@/assets/IMG/mg1.png" alt="">
                  <div>
                    <a href="javascript:">美式成人钢琴课</a>
                    <h6>原汁原味美式钢琴教学</h6>
                    <span>￥7999.00
                                            <span>￥10000.00</span>
                                        </span>
                  </div>
                </li>
                <li>
                  <img src="~@/assets/IMG/mg2.png" alt="">
                  <div>
                    <a href="javascript:">美式成人钢琴课</a>
                    <h6>原版引进美式教材</h6>
                    <span>￥8999.00
                                            <span>￥10000.00</span>
                                        </span>
                  </div>
                </li>
                <li>
                  <img src="~@/assets/IMG/mg3.png" alt="">
                  <div>
                    <a href="javascript:">少儿乌克里里课</a>
                    <h6>原版引进美式教材 </h6>
                    <span>￥7999.00
                                            <span>￥10000.00</span>
                                        </span>
                  </div>
                </li>
                <li>
                  <img src="~@/assets/IMG/mg4.png" alt="">
                  <div>
                    <a href="javascript:">零基础少儿入门班</a>
                    <h6>随到随学，不限练琴</h6>
                    <span>￥5999.00
                                            <span>￥10000.00</span>
                                        </span>
                  </div>
                </li>
              </ul>
            </div>
            <div class="left-botton">
              <div class="first">
                <h2>学员评价</h2>
                <router-link to="/zhaoxuexiao/gangqingone/allcomments" class="routerA" active-class="bgblue">全部（100）</router-link>
                <router-link to="/zhaoxuexiao/gangqingone/newcomments" class="routerA" active-class="bgblue">全新</router-link>
              </div>
              <!--显示区域-->
              <router-view></router-view>
              <div class="bottom">
                <span>&lt;</span>
                <span>1</span>
                <span class="active">2</span>
                <span>3</span>
                <span>4</span>
                <span>...</span>
                <span>50</span>
                <span>&gt;</span>
              </div>
            </div>
          </div>
          <div class="class-right">
            <baidumap></baidumap>
<!--            <iframe src="./public/static/map.html" width="282px" height="282px"></iframe>-->
            <div class="right-dow">
              <h4>同类型推荐</h4>
              <ul>
                <li>
                  <img src="~@/assets/IMG/tt1.jpg" alt="">
                  <span>珠江钢琴艺术教室</span>
                  <p>
                    <i class="star"></i>
                    <i class="star"></i>
                    <i class="star"></i>
                    <i class="star"></i>
                    <i class="star"></i>
                    <span>5243条评价</span>
                  </p>
                  <address>珠江新城</address>
                </li>
              </ul>
              <ul>
                <li>
                  <img src="~@/assets/IMG/tt2.png" alt="">
                  <span>星雅儿童教育</span>
                  <p>
                    <i class="star"></i>
                    <i class="star"></i>
                    <i class="star"></i>
                    <i class="star"></i>
                    <i class="star"></i>
                    <span>2364条评价</span>
                  </p>
                  <address>天河区</address>
                </li>
              </ul>
              <ul>
                <li>
                  <img src="~@/assets/IMG/tt3.jpg" alt="">
                  <span>斑马琴行</span>
                  <p>
                    <i class="star"></i>
                    <i class="star"></i>
                    <i class="star"></i>
                    <i class="star"></i>
                    <i class="star"></i>
                    <span>3625条评价</span>
                  </p>
                  <address>天河新村</address>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script>
import baidumap from "@/components/baidumap";

export default {
  name: "gangqingone",
  components:{
    baidumap
  },
  methods:{
    change(){
      var div=document.getElementById("goods_img");
      var arr_img=div.getElementsByTagName("img");
      for(var i=0;i<arr_img.length;i++){
        arr_img[i].onmouseover=function(){
          var bigimg=document.getElementById("bigimg");
          var p=this.src;
          console.log(this.src,bigimg.src)
          try {
            bigimg.src=p.replace(".png","_big.png");
          }catch (e) {
            bigimg.src=p.replace(".jpg","_big.jpg");
          }

          // bigimg.src=p.replace(".png","_big.png");
        }
      }
    },
    change1(){
        let timerID;
        let bannerIndex = 0;//轮播图下标，默认为0
        let containner = document.querySelector('.containner');//获取轮播图的类名

        let right = document.getElementById('right');
        right.onclick = function () {
          next();
          animate();
        }

        let left = document.getElementById('left');
        left.onclick = function () {
          prev();
          animate();
        }

        //自动播放
        autoPlay();

        //鼠标进入离开的状态
        let banner = document.querySelector('.teacher-p');
        mouseJoin(banner);
        mouseLeave(banner);



        mouseJoin(left);
        mouseLeave(left);
        mouseJoin(right);
        mouseLeave(right);
        // var timerID;


        //显示下一张图片
        function next() {
          console.log(bannerIndex,containner.children.length)
          if (bannerIndex > (containner.children.length-4)) {//如果(containner.children.length-3)/3的话就是3张滚
            containner.style.transition = 'none';//关闭过渡效果
            bannerIndex = 0;//回到第一张
            containner.style.transform = 'translateX(0px)';//让containner的距离回到第一张
          }
          bannerIndex++;
        }

        //显示上一张图片
        function prev() {
          if (bannerIndex <= 0) {
            containner.style.transition = 'none';//关闭过渡效果
            // bannerIndex = (containner.children.length-3)/3;//倒数第3张 三张一起滚
            bannerIndex = containner.children.length - 3;//倒数第3张 一张一张滚
            let moveX = bannerIndex * 400;//计算要移动多少
            containner.style.transform = `translateX(-${moveX}px)`;//向左移动
          }
          bannerIndex--;
        }

        //创建一个方法，执行滚动过程
        function animate() {
          setTimeout(function () {
            containner.style.transition = 'transform 0.5s linear';//开启过渡效果
            // let moveX = bannerIndex*1200;
            let moveX = bannerIndex * 400;
            //在ES6里面新增了模板字符串，模板字符串可以在字符串中直接添加变量
            containner.style.transform = `translateX(-${moveX}px)`;//向右移动
          }, 1);
        }

        //创建一个方法，使其自动播放
        function autoPlay() {
          timerID = setInterval(function () {//自动播放
            right.click();//触发事件
          }, 3000);
        }

        //创建一个方法，使鼠标悬停不再自动切换图片
        function mouseJoin(obj) {
          obj.onmouseenter = function () {
            clearInterval(timerID);
          }
        }

        //创建一个方法，鼠标离开后继续自动切换图片
        function mouseLeave(obj) {
          //鼠标离开，清除定时器，然后再次启动定时器
          obj.onmouseleave = function () {
            clearInterval(timerID);
            timerID = setInterval(function () {
              right.click();
            }, 3000);
          }
        }
    }
  },
  mounted() {
    this.change()
    this.change1()
  }

}
</script>

<style scoped>
@import "~@/assets/CSS/index.css";

.teacher {
  position: relative;

}

.teacher .center{
  background-color: #ffffff;
  margin-top: 24px;
  border-radius: 20px;
  height: 560px;
  min-width: 1200px;
  overflow: hidden;
}

.teacher-p {
  width: 3600px;
}

.teacher h2{
  font-size: 34px;
  font-weight: normal;
  display: inline-block;
  margin: 24px;
}


.teacher-p ul{
  display: flex;
  transform: translateX(0px);
  transition: transform 2s linear;
  /*z-index: -1;*/
}

.teacher-p li{
  margin: 0 22px;
  height: 400px;
  border-style: solid;
  border-color: #f8f8f9;
  border-width: 1px;
  border-radius: 10px;
}

.teacher-p li img {
  width: 355px;
  height: 255px;
}

.teacher-p li h4{
  font-size: 20px;
  font-weight: normal;
  padding-left: 140px;
  margin-top: 10px;
}

.teacher-p .sp{
  margin-left: 100px;
  margin-top: 10px;
}

.teacher-p li span{
  margin-left: 10px;
  color: #a1a1a1;
}

.teacher-p li .hang{
  color: #2ab8f5;
}

.teacher-p h6{
  margin-top: 10px;
  font-size: 14px;
  color: #323232;
  text-align: center;
  line-height: 20px;
  letter-spacing: 1px;
}

#left{
  background: url(~@/assets/IMG/left1.png);
  width: 50px;
  height: 50px;
  position: absolute;
  top: 56%;
  left: -200px;
  transform: translateY(-50%);
  /* 当鼠标放在上面时，变成手型 */
  cursor: pointer;
  border: none;
   z-index: 99;
}

#right{
  background: url(~@/assets/IMG/right2.png);
  width: 50px;
  height: 50px;
  position: absolute;
  top: 56%;
  right: -200px;
  transform: translateY(-50%);
  cursor: pointer;
  border: none;
   z-index: 99;
}

#left:hover{
  background: url(~@/assets/IMG/left.png);
}

#right:hover{
  background: url(~@/assets/IMG/right.png);
}

</style>